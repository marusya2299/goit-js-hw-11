{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nconst API_KEY = '43475453-62a6130baf5d53b90b99f069a';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function imagesSearch(input = \"\") {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: input,\n        image_type: \"photo\",\n        orientation: \"hotizontal\",\n        safesearch: true\n    })\n    return fetch(`${BASE_URL}?${params.toString()}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n}","'use strict';\n\nexport function createGallery(images, gallery) {\n\n    images.forEach(image => {\n\n        const galleryItem = document.createElement(\"li\");\n        galleryItem.classList.add(\"gallery-item\");\n        \n        galleryItem.innerHTML = `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\">\n            <div class=\"description\">\n                <div class=\"field\">\n                    <span class=\"label\">Likes</span>\n                    <span class=\"value\" data-likes>${image.likes}</span>\n                </div>\n                <div class=\"field\">\n                    <span class=\"label\">Views</span>\n                    <span class=\"value\" data-views>${image.views}</span>\n                </div>\n                <div class=\"field\">\n                    <span class=\"label\">Comments</span>\n                    <span class=\"value\" data-comments>${image.comments}</span>\n                </div>\n                <div class=\"field\">\n                    <span class=\"label\">Downloads</span>\n                    <span class=\"value\" data-downloads>${image.downloads}</span>\n                </div>\n            </div>\n        </a>\n        \n        \n    `;\n\n    gallery.appendChild(galleryItem);\n  \n    galleryItem.addEventListener('click', function (event) { event.preventDefault(); });    \n    });\n    return gallery;\n}\n","'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { imagesSearch } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".input\");\nconst gallery = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox('.gallery a',\n    {\n        captions: true,\n        captionDelay: 250,\n        captionPosition: 'bottom',\n        captionType: 'attr',\n        captionsData: 'alt'\n    });\n\nconst loader = document.querySelector(\".loader\");\n\n\nfunction formSubmit(event) {\n    event.preventDefault();\n    loader.style.display = 'flex';\n    loader.style.alignitems = 'center';\n    if (input.value.trim() === '') {\n        iziToast.warning({message: 'The name is incorrect. Please try again'});\n        return;\n    }\n\n    gallery.innerHTML = '';\n\n    imagesSearch(input.value.trim())\n        .then(data => {\n            if (data.totalHits === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    messageColor: 'rgba(250, 250, 251, 1)',\n                    icon: 'myIcon',\n                    iconColor:'rgba(250, 250, 251, 1)',\n                    color: 'rgba(239, 64, 64, 1)',\n                    position: 'topRight',\n                    progressBarColor:'rgba(181, 27, 27, 1)'\n\n                });\n                loader.style.display = 'none';\n                return;\n            }\n\n            createGallery(data.hits, gallery);\n            lightbox.refresh();\n        })\n        .catch(() => iziToast.show({ message: 'Sorry, there are no images matching your search query. Please try again!'}))\n        .finally(() => {\n            form.reset();\n            loader.style.display = 'none';\n        });\n}\n\nform.addEventListener('submit', formSubmit);\n"],"names":["API_KEY","BASE_URL","imagesSearch","input","params","response","createGallery","images","gallery","image","galleryItem","event","form","lightbox","SimpleLightbox","loader","formSubmit","iziToast","data"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAaC,EAAQ,GAAI,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAO,SAAU,CAAA,EAAE,EAC1C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,CACT,CClBO,SAASC,EAAcC,EAAQC,EAAS,CAE3C,OAAAD,EAAO,QAAQE,GAAS,CAEpB,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExCA,EAAY,UAAY;AAAA,mBACbD,EAAM,aAAa;AAAA,wBACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,qDAITA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wDAIRA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,yDAIbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQpED,EAAQ,YAAYE,CAAW,EAE/BA,EAAY,iBAAiB,QAAS,SAAUC,EAAO,CAAEA,EAAM,gBAAiB,CAAE,CACtF,CAAK,EACMH,CACX,CC5BA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCT,EAAQ,SAAS,cAAc,QAAQ,EACvCK,EAAU,SAAS,cAAc,UAAU,EAC3CK,EAAW,IAAIC,EAAe,aAChC,CACI,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,YAAa,OACb,aAAc,KACtB,CAAK,EAECC,EAAS,SAAS,cAAc,SAAS,EAG/C,SAASC,EAAWL,EAAO,CAIvB,GAHAA,EAAM,eAAc,EACpBI,EAAO,MAAM,QAAU,OACvBA,EAAO,MAAM,WAAa,SACtBZ,EAAM,MAAM,KAAI,IAAO,GAAI,CAC3Bc,EAAS,QAAQ,CAAC,QAAS,yCAAyC,CAAC,EACrE,MACH,CAEDT,EAAQ,UAAY,GAEpBN,EAAaC,EAAM,MAAM,MAAM,EAC1B,KAAKe,GAAQ,CACV,GAAIA,EAAK,YAAc,EAAG,CACtBD,EAAS,MAAM,CACX,QAAS,2EACT,aAAc,yBACd,KAAM,SACN,UAAU,yBACV,MAAO,uBACP,SAAU,WACV,iBAAiB,sBAErC,CAAiB,EACDF,EAAO,MAAM,QAAU,OACvB,MACH,CAEDT,EAAcY,EAAK,KAAMV,CAAO,EAChCK,EAAS,QAAO,CAC5B,CAAS,EACA,MAAM,IAAMI,EAAS,KAAK,CAAE,QAAS,0EAA0E,CAAC,CAAC,EACjH,QAAQ,IAAM,CACXL,EAAK,MAAK,EACVG,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAEAH,EAAK,iBAAiB,SAAUI,CAAU"}